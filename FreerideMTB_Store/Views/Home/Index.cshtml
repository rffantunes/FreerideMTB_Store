@model FreerideMTB_Store.Models.HomeViewModel

@{
    ViewBag.Title = "Freeride MTB Store";
}

<style>
    /*styling da barra de topo com as categorias*/ 
    .categorias {
        position: relative;
    }
    .categoria {
        width: 25%;
        float: left;
        padding: 1rem;
    }
    .categoria > .categorie_title {
        cursor: pointer;
        margin-bottom: 2rem;
        text-align: center;
    }

    .produto {
        position: relative;
        cursor: pointer;
        height: 35vh;
        margin-bottom: 1rem;
        border-bottom: 1px solid #ccc;
        overflow: hidden;
    }

    .produto:hover > .produt_name {
        text-decoration: underline;
    }

    .produto > img {
        object-fit: contain;
        height: 70%;
        width: 85%;
        transform:translateY(-5%);
        /*transform: translateX(45%);*/
    }

    .produt_name {
        color: gray;
        font-weight: 500;
        text-transform: uppercase;
    }

    .produt_description {
        text-overflow: ellipsis;
        padding-bottom: 1rem;
    }

    .carousel-inner > .item {
        height: 55vh;
    }

    .carousel-inner > .item > img {
        object-fit: cover;
        height: 100%;
        width: 100%;
    }
    .space{
        margin-top:10px;
    }

    a.lightbox img {
        height: 295px;
        border: 3px solid white;
        box-shadow: 0px 0px 8px rgba(0,0,0,.3);
        margin: 0px 20px 200px 0px;
    }

    /* Styles the lightbox, removes it from sight and adds the fade-in transition */

    .lightbox-target {
        position: absolute;
        top: -100%;
        width: 100%;
        /*background: rgba(0,0,0,.7);*/
        width: 100%;
        opacity: 0;
        -webkit-transition: opacity .5s ease-in-out;
        -moz-transition: opacity .5s ease-in-out;
        -o-transition: opacity .5s ease-in-out;
        transition: opacity .5s ease-in-out;
        overflow: hidden;
    }

        /* Styles the lightbox image, centers it vertically and horizontally, adds the zoom-in transition and makes it responsive using a combination of margin and absolute positioning */

        .lightbox-target img {
            margin: 15px 7px 2px 4px;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            max-height: 0%;
            max-width: 0%;
            border: 3px solid white;
            box-shadow: 0px 0px 8px rgba(0,0,0,.3);
            box-sizing: border-box;
            -webkit-transition: .5s ease-in-out;
            -moz-transition: .5s ease-in-out;
            -o-transition: .5s ease-in-out;
            transition: .5s ease-in-out;
        }

    /* Styles the close link, adds the slide down transition */

    a.lightbox-close {
        display: block;
        width: 50px;
        height: 50px;
        box-sizing: border-box;
        /*background: white;*/
        color: black;
        text-decoration: none;
        position: relative;
        top: -180px;
        right: 0;
        -webkit-transition: .5s ease-in-out;
        -moz-transition: .5s ease-in-out;
        -o-transition: .5s ease-in-out;
        transition: .5s ease-in-out;
    }

        /* Provides part of the "X" to eliminate an image from the close link */

        a.lightbox-close:before {
            content: "";
            display: block;
            height: 30px;
            width: 3px;
            background: black;
            position: absolute;
            left: 26px;
            top: 25px;
            -webkit-transform: rotate(45deg);
            -moz-transform: rotate(45deg);
            -o-transform: rotate(45deg);
            transform: rotate(45deg);
        }

        /* Provides part of the "X" to eliminate an image from the close link */

        a.lightbox-close:after {
            content: "";
            display: block;
            height: 30px;
            width: 3px;
            background: black;
            position: absolute;
            left: 26px;
            top: 25px;
            -webkit-transform: rotate(-45deg);
            -moz-transform: rotate(-45deg);
            -o-transform: rotate(-45deg);
            transform: rotate(-45deg);
        }

    /* Uses the :target pseudo-class to perform the animations upon clicking the .lightbox-target anchor */

    .lightbox-target:target {
        opacity: 1;
        top: 0;
        bottom: 0;
    }

        .lightbox-target:target img {
            max-height: 100%;
            max-width: 100%;
        }

        .lightbox-target:target a.lightbox-close {
            top: 0px;
        }

    /*Para corrigir os espaços que pode existir em branco*/
    .clearfix:before,
    .clearfix:after {
        content: " ";
        display: table;
    }

    .clearfix:after {
        clear: both;
    }


</style>
@* Banner com as imagens da página inicial *@
<div id="my-carousel" class="carousel slide space" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#my-carousel" data-slide-to="0" class="active"></li>
        <li data-target="#my-carousel" data-slide-to="1"></li>
        <li data-target="#my-carousel" data-slide-to="2"></li>
        <li data-target="#my-carousel" data-slide-to="3"></li>
    </ol>
    <div class="carousel-inner">
        <div class="item active">
            <img src="~/imagens/HP_Aspot_3_MegaEssentials_WK27_NA_pt.jpg" />
            <div class="carousel-caption">

            </div>
        </div>
        <div class="item">
            <img src="~/imagens/banner_home2.jpg" />
            <div class="carousel-caption">

            </div>
        </div>
        <div class="item">
            <img src="~/imagens/banner_home3.jpg" />
            <div class="carousel-caption">

            </div>
        </div>
        <div class="item">
            <img src="~/imagens/banner_home.jpg" />
            <div class="carousel-caption"></div>
        </div>
    </div>
    <a class="left carousel-control" href="#my-carousel" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left"></span>
    </a>
    <a class="right carousel-control" href="#my-carousel" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right"></span>
    </a>
</div>


<div>
    <h3>Freeride MTB Store</h3>
    <p class="lead">A loja onde encontrará tudo o que precisa para o seu desporto favorito.</p>
</div>

<div class="categorias clearfix">
    @*Criar tabela para apresentar 2 produtos da categoria Equipamento na home*@

    @* Link para a categoria filtrada a partir da pagina inicial *@
    <div class="categoria">
        <div class="categorie_title" onclick="window.location.href = '/tbl_Produtos/' + '?CatId=1';">
            <h2>Equipamentos</h2>
        </div>
        @* Listagem que vai buscar os últimos 3 artigos adicionados nesta categoria *@
        @foreach (var Produto in Model.ListaProdutos.Where(c => c.Categoria == 1).Reverse().Take(3))
        {
            <div class="produto" onclick="window.location.href = '/tbl_Produtos/Details/' + '@Produto.Id_produto';">
                <h4 class="produt_name">@Produto.Nome</h4>

                @{IEnumerable<FreerideMTB_Store.Models.tbl_Imagens> Linha = Model.ListaImagens.Where(c => c.tbl_Produtos.Any(x => x.Id_produto == Produto.Id_produto)).Take(1);
                    string a = (String)Linha.Select(x => x.Caminho).FirstOrDefault();
                    <img src="@a" width="250px" height="140px" style="margin:20px 15px">
                }

                
                    @*<p class="produt_description">@Html.Raw(Produto.Descricao)</p>*@
            </div>
        }
    </div>
    


    @* Link para a categoria filtrada a partir da pagina inicial *@
    <div class="categoria">
        <div class="categorie_title" onclick="window.location.href = '/tbl_Produtos/' + '?CatId=2';">
            <h2>Bicicletas</h2>
        </div>
        @* Listagem que vai buscar os últimos 3 artigos adicionados nesta categoria *@
        @foreach (var Item in Model.ListaProdutos.Where(c => c.Categoria == 2).Reverse().Take(3))
    {
        <div class="produto" onclick="window.location.href = '/tbl_Produtos/Details/' + '@Item.Id_produto';">
            <h4 class="produt_name">@Item.Nome</h4>

            @{IEnumerable<FreerideMTB_Store.Models.tbl_Imagens> Linha = Model.ListaImagens.Where(c => c.tbl_Produtos.Any(x => x.Id_produto == Item.Id_produto)).Take(1);
            string a = (String)Linha.Select(x => x.Caminho).FirstOrDefault();
            <img src="@a" width="250px" height="140px" style="margin:20px 15px">
            }


            @*<p class="produt_description">@Html.Raw(Item.Descricao)</p>*@
        </div>
}
    </div>
    


    @* Link para a categoria filtrada a partir da pagina inicial *@
    <div class="categoria">
        <div class="categorie_title" onclick="window.location.href = '/tbl_Produtos/' + '?CatId=3';">
            <h2>Eletrónica</h2>
        </div>
        @* Listagem que vai buscar os últimos 3 artigos adicionados nesta categoria *@
        @foreach (var Produto in Model.ListaProdutos.Where(c => c.Categoria == 3).Reverse().Take(3))
    {
        <div class="produto" onclick="window.location.href = '/tbl_Produtos/Details/' + '@Produto.Id_produto';">
            <h4 class="produt_name">@Produto.Nome</h4>

            @{IEnumerable<FreerideMTB_Store.Models.tbl_Imagens> Linha = Model.ListaImagens.Where(c => c.tbl_Produtos.Any(x => x.Id_produto == Produto.Id_produto)).Take(1);
            string a = (String)Linha.Select(x => x.Caminho).FirstOrDefault();
            <img src="@a" width="250px" height="140px" style="margin:20px 15px">
            }


            @*<p class="produt_description">@Html.Raw(Produto.Descricao)</p>*@
        </div>
}
    </div>
    


    @* Link para a categoria filtrada a partir da pagina inicial *@
    <div class="categoria">
        <div class="categorie_title" onclick="window.location.href = '/tbl_Produtos/' + '?CatId=5';">
            <h2>Suspensões</h2>
        </div>
        @* Listagem que vai buscar os últimos 3 artigos adicionados nesta categoria *@
        @foreach (var Item in Model.ListaProdutos.Where(c => c.Categoria == 5).Reverse().Take(3))
    {
        <div class="produto" onclick="window.location.href = '/tbl_Produtos/Details/' + '@Item.Id_produto';">
            <h4 class="produt_name">@Item.Nome</h4>

            @{IEnumerable<FreerideMTB_Store.Models.tbl_Imagens> Linha = Model.ListaImagens.Where(c => c.tbl_Produtos.Any(x => x.Id_produto == Item.Id_produto)).Take(1);
            string a = (String)Linha.Select(x => x.Caminho).FirstOrDefault();
            <img src="@a" width="250px" height="140px" style="margin:20px 15px">
            }


            @*<p class="produt_description">@Html.Raw(Item.Descricao)</p>*@
        </div>
}
    </div>
    
</div> @* fim das categorias *@

<div class="row">
    <div class="col-md-4" style="margin-left:50px;">
        <h2>Participações</h2>
        
        <iframe width="524" height="294" src="https://www.youtube.com/embed/a1ya7ie6p4Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>
    <div class="col-md-4" style="margin-left:250px">
        <h2>Provas</h2>
        <a class="lightbox" href="#zoom">
            <img src="https://www.apedalar.pt/Functions/thumbnail_cartaz/1942/460.jpg" />
        </a>
        <div class="lightbox-target" id="zoom">
            <img src="https://www.apedalar.pt/Functions/thumbnail_cartaz/1942/460.jpg" />
            <a class="lightbox-close" href=""></a>
        </div>
    </div>
</div>